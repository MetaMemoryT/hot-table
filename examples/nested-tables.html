<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>&lt;hot-table&gt;</title>

  <!-- Importing Web Component's Polyfill -->
  <script src="../../webcomponentsjs/webcomponents.js"></script>

  <!-- SOME ELEMENTS LIKE CONTEXT MENU ARE OUTSIDE HOT-TABLE DIRECTIVE -> CSS FILE IS REQUIRED IN HEAD -->
  <link rel="stylesheet" href="../../handsontable/dist/handsontable.full.css">
  <link rel="stylesheet" href="../../handsontable/demo/js/pikaday/css/pikaday.css">

  <!-- Code highlighter -->
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>

  <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/main.css"/>

  <script src="../../handsontable/demo/js/pikaday/pikaday.js"></script>
  <script src="../../handsontable/demo/js/moment/moment.js"></script>

  <!-- Importing Custom Elements -->
  <link rel="import" href="../src/hot-table.html">

  <style>
    hot-table {
      display: inline-block;
    }
    hot-table /deep/ td {
      background-color: transparent !important;
    }
    hot-table /deep/ .no-padding {
      padding: 0;
      border-right: none;
      border-left: none;
    }
    hot-table /deep/ .nested .htCore {
      -webkit-box-shadow: none;
      -moz-box-shadow: none;
      box-shadow: none;
    }
    hot-table /deep/ .nested .ht_clone_top {
      z-index: 0;
    }
    hot-table /deep/ .htMiddle {
      font-size: 1.3em;
    }

    /* For browser which not supported web component natively yet */
    hot-table td {
      background-color: transparent !important;
    }
    hot-table .no-padding {
      padding: 0 !important;
      border-right: none !important;
      border-left: none !important;
    }
    hot-table.nested .htCore {
      -webkit-box-shadow: none !important;
      -moz-box-shadow: none !important;
      box-shadow: none !important;
    }
    hot-table.nested .ht_clone_top {
      z-index: 0;
    }
    hot-table .htMiddle {
      font-size: 1.3em;
    }
  </style>
</head>
<body>

<div id="wrapper">
  <header>
    <h1>&lt;hot-table&gt;</h1>
    <h2 class="logo-desc">Nested tables demo</h2>
  </header>

  <h2>Simple Example</h2>

  <div class="example">
    <template is="auto-binding">
      <hot-table dataRows="{{ cars }}" contextMenu="true">
        <hot-column width="30" readOnly value="id" header="ID" class="htCenter htMiddle"></hot-column>
        <hot-column width="100" value="brand" header="Brand" class="htCenter htMiddle"></hot-column>
        <hot-column width="600" value="cars" header="Cars" editor="false" class="no-padding no-header-shadow">
          <template data-hot-role="renderer">
            <hot-table width="600" stretchH="all" dataRows="{{ cars }}" contextMenu="true" class="nested" minSpareRows="1">
              <hot-column width="100" value="model" header="Model" class="htCenter htMiddle"></hot-column>
              <hot-column width="220" value="clients" header="Clients" editor="false" class="no-padding">
                <template data-hot-role="renderer">
                  <hot-table width="220" stretchH="all" datarows="{{ clients }}" contextMenu="true"
                             class="nested" minSpareRows="1">
                    <hot-column width="110" value="firstName" class="htLeft" header="First name"></hot-column>
                    <hot-column width="110" value="lastName" class="htLeft" header="Last name"></hot-column>
                  </hot-table>
                </template>
              </hot-column>
              <hot-column width="140" type="date" value="date.production" header="Production date" class="htCenter htMiddle"></hot-column>
              <hot-column width="140" type="date" value="date.sold" header="Sold date" class="htCenter htMiddle"></hot-column>
            </hot-table>
          </template>
        </hot-column>
      </hot-table>
    </template>
  </div>

  <h2>Code</h2>

  <pre><code class="html">
    &#x3C;hot-table dataRows=&#x22;{{ cars }}&#x22; contextMenu=&#x22;true&#x22;&#x3E;
      &#x3C;hot-column width=&#x22;30&#x22; readOnly value=&#x22;id&#x22; header=&#x22;ID&#x22; class=&#x22;htCenter htMiddle&#x22;&#x3E;&#x3C;/hot-column&#x3E;
      &#x3C;hot-column width=&#x22;100&#x22; value=&#x22;brand&#x22; header=&#x22;Brand&#x22; class=&#x22;htCenter htMiddle&#x22;&#x3E;&#x3C;/hot-column&#x3E;
      &#x3C;hot-column width=&#x22;600&#x22; value=&#x22;cars&#x22; header=&#x22;Cars&#x22; editor=&#x22;false&#x22; class=&#x22;no-padding no-header-shadow&#x22;&#x3E;
        &#x3C;template data-hot-role=&#x22;renderer&#x22;&#x3E;
          &#x3C;hot-table width=&#x22;600&#x22; stretchH=&#x22;all&#x22; dataRows=&#x22;{{ cars }}&#x22; contextMenu=&#x22;true&#x22; class=&#x22;nested&#x22; minSpareRows=&#x22;1&#x22;&#x3E;
            &#x3C;hot-column width=&#x22;100&#x22; value=&#x22;model&#x22; header=&#x22;Model&#x22; class=&#x22;htCenter htMiddle&#x22;&#x3E;&#x3C;/hot-column&#x3E;
            &#x3C;hot-column width=&#x22;220&#x22; value=&#x22;clients&#x22; header=&#x22;Clients&#x22; editor=&#x22;false&#x22; class=&#x22;no-padding&#x22;&#x3E;
              &#x3C;template data-hot-role=&#x22;renderer&#x22;&#x3E;
                &#x3C;hot-table width=&#x22;220&#x22; stretchH=&#x22;all&#x22; datarows=&#x22;{{ clients }}&#x22; contextMenu=&#x22;true&#x22;
                           class=&#x22;nested&#x22; minSpareRows=&#x22;1&#x22;&#x3E;
                  &#x3C;hot-column width=&#x22;110&#x22; value=&#x22;firstName&#x22; class=&#x22;htLeft&#x22; header=&#x22;First name&#x22;&#x3E;&#x3C;/hot-column&#x3E;
                  &#x3C;hot-column width=&#x22;110&#x22; value=&#x22;lastName&#x22; class=&#x22;htLeft&#x22; header=&#x22;Last name&#x22;&#x3E;&#x3C;/hot-column&#x3E;
                &#x3C;/hot-table&#x3E;
              &#x3C;/template&#x3E;
            &#x3C;/hot-column&#x3E;
            &#x3C;hot-column width=&#x22;140&#x22; type=&#x22;date&#x22; value=&#x22;date.production&#x22; header=&#x22;Production date&#x22; class=&#x22;htCenter htMiddle&#x22;&#x3E;&#x3C;/hot-column&#x3E;
            &#x3C;hot-column width=&#x22;140&#x22; type=&#x22;date&#x22; value=&#x22;date.sold&#x22; header=&#x22;Sold date&#x22; class=&#x22;htCenter htMiddle&#x22;&#x3E;&#x3C;/hot-column&#x3E;
          &#x3C;/hot-table&#x3E;
        &#x3C;/template&#x3E;
      &#x3C;/hot-column&#x3E;
    &#x3C;/hot-table&#x3E;
  </code></pre>
  <script>hljs.initHighlightingOnLoad();</script>
</div>

<script>
  var cars = [
    {
      id: 1,
      brand: 'Ford',
      cars: [
        {
          model: 'Focus',
          date: {production: '10/10/2001', sold: '31/12/2002'},
          clients: [
            {firstName: 'Alan', lastName: 'Fabiano'},
            {firstName: 'Fred', lastName: 'Fabiano'},
            {firstName: 'Maria', lastName: 'Moore'},
            {firstName: 'Don', lastName: 'Kinley'},
            {firstName: 'John', lastName: 'Kowalsky'}
          ]
        },
        {
          model: 'Fiesta',
          date: {production: '01/01/2002', sold: '29/10/2003'},
          clients: [
            {firstName: 'Wilma', lastName: 'Silver'},
            {firstName: 'Barbara', lastName: 'Bush'}
          ]
        },
        {
          model: 'B-Max',
          date: {production: '06/12/2003', sold: '22/12/2004'},
          clients: [
            {firstName: 'Alan', lastName: 'Goldman'},
            {firstName: 'Pierre', lastName: 'Gold'}
          ]
        },
        {
          model: 'C-Max',
          date: {production: '11/10/2007', sold: '14/08/2010'},
          clients: [
            {firstName: 'Chris', lastName: 'Wecler'},
            {firstName: 'Martin', lastName: 'MacDonald'}
          ]
        }
      ]
    },
    {
      id: 2,
      brand: 'Opel',
      cars: [
        {
          model: 'Corsa',
          date: {production: '16/10/2008', sold: '12/04/2008'},
          clients: [
            {firstName: 'Eddie', lastName: 'Gruber'}
          ]
        },
        {
          model: 'Meriva',
          date: {production: '01/11/2009', sold: '22/10/2010'},
          clients: [
            {firstName: 'Troy', lastName: 'Eder'},
            {firstName: 'Barry', lastName: 'Anderson'}
          ]
        },
        {
          model: 'Cascada',
          date: {production: '30/06/2003', sold: '11/01/2004'},
          clients: [
            {firstName: 'Jose', lastName: 'Acker'},
            {firstName: 'Carl', lastName: 'Cole'},
            {firstName: 'Jerry', lastName: 'Cole'}
          ]
        },
        {
          model: 'Astra',
          date: {production: '11/09/2007', sold: '16/08/2009'},
          clients: [
            {firstName: 'James', lastName: 'Cox'},
            {firstName: 'David', lastName: 'Crewe'}
          ]
        }
      ]
    }
  ];

  document.querySelector('template').cars = cars;
</script>

</body>
</html>
